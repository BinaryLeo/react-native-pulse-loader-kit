import e,{useState as t,useEffect as n}from"react";import{Animated as r,Dimensions as i,View as o,Easing as a,Text as l}from"react-native";import{LinearGradient as u}from"expo-linear-gradient";function c(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var s=function(s){var d=s.isLoaderInAction,g=s.dotColor,m=void 0===g?"#3D9C91":g,f=s.dotSize,p=void 0===f?20:f,h=s.message,v=s.messageColor,y=void 0===v?"#DD7C2E":v,w=s.dotCount,E=void 0===w?3:w,C=s.interval,D=void 0===C?300:C,V=s.singlePulse,x=void 0!==V&&V,A=s.pulseStages,N=void 0===A?[4,6,8,10,12]:A,R=s.isGradient,I=void 0!==R&&R,S=s.gradientColors,b=void 0===S?["#3D9C91","#DD7C2E","#3D9C2E"]:S,j=t(new Array(E).fill(0).map((function(){return new r.Value(0)}))),q=j[0],z=j[1],k=t(new r.Value(0)),B=k[0];k[1];var H=i.get("window").width;n((function(){z(new Array(E).fill(0).map((function(){return new r.Value(0)})))}),[E]);var L=D||300,P=function(){var e=N.map((function(e,t){return r.timing(B,{toValue:t+1,duration:L,easing:a.linear,useNativeDriver:!1})}));r.sequence(c(c([],e,!0),[r.timing(B,{toValue:N.length+1,duration:1e3,easing:a.linear,useNativeDriver:!1}),r.timing(B,{toValue:N.length+2,duration:1e3,easing:a.linear,useNativeDriver:!1}),r.timing(B,{toValue:0,duration:0,useNativeDriver:!1})],!1)).start((function(){return P()}))};n((function(){var e,t;d?x?(B.setValue(0),P()):(q.forEach((function(e){return e.setValue(0)})),e=q.map((function(e,t){return r.timing(e,{toValue:1,duration:L,useNativeDriver:!0,delay:t*L})})),t=q.map((function(e,t){return r.timing(e,{toValue:0,duration:L,useNativeDriver:!0,delay:t*L})})),r.loop(r.sequence([r.sequence(e),r.delay(L),r.sequence(t),r.delay(L)])).start()):(q.forEach((function(e){return e.setValue(0)})),B.setValue(0))}),[d,q,x]);var F=function(){return d&&h?e.createElement(l,{style:{fontSize:16,fontWeight:"600",textAlign:"center",color:y}},h):null};return e.createElement(o,{style:{width:"100%",alignItems:"center",justifyContent:"center",flexDirection:"column",paddingHorizontal:20,height:100}},x?e.createElement(o,{style:{width:"100%",alignItems:"center",justifyContent:"center"}},e.createElement(o,{style:{width:"100%",alignItems:"center",justifyContent:"center",marginBottom:10,height:p+10}},e.createElement(r.View,{style:{borderRadius:10,width:B.interpolate({inputRange:c(c([0],N.map((function(e,t){return t+1})),!0),[N.length+1,N.length+2],!1),outputRange:c(c([p],N.map((function(e){return e})),!0),[.4*H,.4*H],!1)}),height:B.interpolate({inputRange:c(c([0],N.map((function(e,t){return t+1})),!0),[N.length+1,N.length+2],!1),outputRange:c(c([p],N.map((function(e){return e})),!0),[p,p],!1)}),backgroundColor:I?"transparent":m,overflow:"hidden"}},I&&e.createElement(u,{colors:b,start:{x:0,y:0},end:{x:1,y:0},style:{width:"100%",height:"100%"}}))),e.createElement(o,{style:{height:40}},F())):e.createElement(e.Fragment,null,e.createElement(o,{style:{flexDirection:"row",justifyContent:"center",alignItems:"center",marginBottom:10}},q.map((function(t,n){return function(t,n){return e.createElement(r.View,{key:n,style:{width:p,height:p,backgroundColor:m,borderRadius:p/2,marginHorizontal:5,opacity:t}})}(t,n)}))),e.createElement(o,{style:{height:40}},F())))},d=e.memo(s);export{d as PulseLoaderKit};
//# sourceMappingURL=index.esm.js.map
